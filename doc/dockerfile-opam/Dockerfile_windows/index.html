<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dockerfile_windows (dockerfile-opam.Dockerfile_windows)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">dockerfile-opam</a> &#x00BB; Dockerfile_windows</nav><header class="odoc-preamble"><h1>Module <code><span>Dockerfile_windows</span></code></h1><p>Windows specific Dockerfile utility functions</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-run_cmd" class="anchored"><a href="#val-run_cmd" class="anchor"></a><code><span><span class="keyword">val</span> run_cmd : <span><span><span>( <span class="type-var">'a</span>, unit, string, <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a> )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run_cmd fmt</code> will execute <code>cmd /S /C fmt</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-run_powershell" class="anchored"><a href="#val-run_powershell" class="anchor"></a><code><span><span class="keyword">val</span> run_powershell : <span><span><span>( <span class="type-var">'a</span>, unit, string, <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a> )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run_powershell fmt</code> will execute <code>powershell -Command &quot;fmt&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-run_vc" class="anchored"><a href="#val-run_vc" class="anchor"></a><code><span><span class="keyword">val</span> run_vc : 
  <span>arch:<span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, unit, string, <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a> )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run_vc ~arch fmt</code> will execute <code>run fmt</code> with Visual Compiler for <code>~arch</code> loaded in the environment.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-run_ocaml_env" class="anchored"><a href="#val-run_ocaml_env" class="anchor"></a><code><span><span class="keyword">val</span> run_ocaml_env : 
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, unit, string, <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a> )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run_ocaml_env args fmt</code> will execute <code>fmt</code> in the evironment loaded by <code>ocaml-env exec</code> with <code>args</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sanitize_reg_path" class="anchored"><a href="#val-sanitize_reg_path" class="anchor"></a><code><span><span class="keyword">val</span> sanitize_reg_path : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a></span></code></div><div class="spec-doc"><p><code>sanitize_reg_path ()</code> adds the command necessary to remove a trailing backaslash from the Path value stored in the registry and must be called before any further manipulation of this variable is done by Dockerfile.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-install_vc_redist" class="anchored"><a href="#val-install_vc_redist" class="anchor"></a><code><span><span class="keyword">val</span> install_vc_redist : <span>?vs_version:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a></span></code></div><div class="spec-doc"><p>Install Microsoft Visual C++ Redistributable.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads" class="value">https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads</a> </li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-install_visual_studio_build_tools" class="anchored"><a href="#val-install_visual_studio_build_tools" class="anchor"></a><code><span><span class="keyword">val</span> install_visual_studio_build_tools : 
  <span>?vs_version:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a></span></code></div><div class="spec-doc"><p>Install Visual Studio Build Tools components.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://docs.microsoft.com/en-us/visualstudio/install/workload-component-id-vs-build-tools?view=vs-2019" class="value">https://docs.microsoft.com/en-us/visualstudio/install/workload-component-id-vs-build-tools?view=vs-2019</a> </li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-ocaml_for_windows_package_exn" class="anchored"><a href="#val-ocaml_for_windows_package_exn" class="anchor"></a><code><span><span class="keyword">val</span> ocaml_for_windows_package_exn : 
  <span>switch:<span class="xref-unresolved">Ocaml_version</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span>port:<span>[ `Mingw <span>| `Msvc</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>arch:<span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span>
  string * string</span></code></div><div class="spec-doc"><p><code>ocaml_for_windows_variant ~port ~arch</code> returns the <code>(package_name, package_version)</code> of the OCaml compiler package in OCaml for Windows, if applicable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cleanup" class="anchored"><a href="#val-cleanup" class="anchor"></a><code><span><span class="keyword">val</span> cleanup : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../dockerfile/Dockerfile/index.html#type-t">Dockerfile.t</a></span></code></div><div class="spec-doc"><p>Cleanup caches.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Cygwin" class="anchored"><a href="#module-Cygwin" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Cygwin/index.html">Cygwin</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Rules for Cygwin-based installation</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Winget" class="anchored"><a href="#module-Winget" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Winget/index.html">Winget</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Rules for winget installation.</p></div></div></div></body></html>