<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Distro (dockerfile-opam.Dockerfile_opam.Distro)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dockerfile-opam</a> &#x00BB; <a href="../index.html">Dockerfile_opam</a> &#x00BB; Distro</nav><header class="odoc-preamble"><h1>Module <code><span>Dockerfile_opam.Distro</span></code></h1><p>Run Opam commands across a matrix of Docker containers. Each of these containers represents a different version of OCaml, Opam and an OS distribution (such as Debian or Alpine).</p></header><nav class="odoc-toc"><ul><li><a href="#known-distributions-and-ocaml-variants">Known distributions and OCaml variants</a></li><li><a href="#docker-hub-addresses">Docker Hub addresses</a></li><li><a href="#cpu-architectures">CPU architectures</a></li><li><a href="#opam-build-infrastructure-support">Opam build infrastructure support</a></li></ul></nav><div class="odoc-content"><h3 id="known-distributions-and-ocaml-variants"><a href="#known-distributions-and-ocaml-variants" class="anchor"></a>Known distributions and OCaml variants</h3><div class="odoc-spec"><div class="spec type anchored" id="type-win10_release"><a href="#type-win10_release" class="anchor"></a><code><span><span class="keyword">type</span> win10_release</span><span> = </span><span>[ </span></code><ol><li id="type-win10_release.V1507" class="def constructor anchored"><a href="#type-win10_release.V1507" class="anchor"></a><code><span>| </span></code><code><span>`V1507</span></code></li><li id="type-win10_release.V1511" class="def constructor anchored"><a href="#type-win10_release.V1511" class="anchor"></a><code><span>| </span></code><code><span>`V1511</span></code></li><li id="type-win10_release.V1607" class="def constructor anchored"><a href="#type-win10_release.V1607" class="anchor"></a><code><span>| </span></code><code><span>`V1607</span></code></li><li id="type-win10_release.V1703" class="def constructor anchored"><a href="#type-win10_release.V1703" class="anchor"></a><code><span>| </span></code><code><span>`V1703</span></code></li><li id="type-win10_release.V1709" class="def constructor anchored"><a href="#type-win10_release.V1709" class="anchor"></a><code><span>| </span></code><code><span>`V1709</span></code></li><li id="type-win10_release.V1803" class="def constructor anchored"><a href="#type-win10_release.V1803" class="anchor"></a><code><span>| </span></code><code><span>`V1803</span></code></li><li id="type-win10_release.V1809" class="def constructor anchored"><a href="#type-win10_release.V1809" class="anchor"></a><code><span>| </span></code><code><span>`V1809</span></code></li><li id="type-win10_release.V1903" class="def constructor anchored"><a href="#type-win10_release.V1903" class="anchor"></a><code><span>| </span></code><code><span>`V1903</span></code></li><li id="type-win10_release.V1909" class="def constructor anchored"><a href="#type-win10_release.V1909" class="anchor"></a><code><span>| </span></code><code><span>`V1909</span></code></li><li id="type-win10_release.V2004" class="def constructor anchored"><a href="#type-win10_release.V2004" class="anchor"></a><code><span>| </span></code><code><span>`V2004</span></code></li><li id="type-win10_release.V20H2" class="def constructor anchored"><a href="#type-win10_release.V20H2" class="anchor"></a><code><span>| </span></code><code><span>`V20H2</span></code></li><li id="type-win10_release.V21H1" class="def constructor anchored"><a href="#type-win10_release.V21H1" class="anchor"></a><code><span>| </span></code><code><span>`V21H1</span></code></li><li id="type-win10_release.V21H2" class="def constructor anchored"><a href="#type-win10_release.V21H2" class="anchor"></a><code><span>| </span></code><code><span>`V21H2</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>All Windows 10 release versions.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-win10_ltsc"><a href="#type-win10_ltsc" class="anchor"></a><code><span><span class="keyword">type</span> win10_ltsc</span><span> = </span><span>[ </span></code><ol><li id="type-win10_ltsc.Ltsc2015" class="def constructor anchored"><a href="#type-win10_ltsc.Ltsc2015" class="anchor"></a><code><span>| </span></code><code><span>`Ltsc2015</span></code></li><li id="type-win10_ltsc.Ltsc2016" class="def constructor anchored"><a href="#type-win10_ltsc.Ltsc2016" class="anchor"></a><code><span>| </span></code><code><span>`Ltsc2016</span></code></li><li id="type-win10_ltsc.Ltsc2019" class="def constructor anchored"><a href="#type-win10_ltsc.Ltsc2019" class="anchor"></a><code><span>| </span></code><code><span>`Ltsc2019</span></code></li><li id="type-win10_ltsc.Ltsc2022" class="def constructor anchored"><a href="#type-win10_ltsc.Ltsc2022" class="anchor"></a><code><span>| </span></code><code><span>`Ltsc2022</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>All Windows Long-Term Service Branch releases. LTSC versions are aliased to the semi-annual release they're based on.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-win_all"><a href="#type-win_all" class="anchor"></a><code><span><span class="keyword">type</span> win_all</span><span> = </span><span>[ </span></code><ol><li id="type-win_all.win10_release" class="def type anchored"><a href="#type-win_all.win10_release" class="anchor"></a><code><span>| </span></code><code><span><a href="#type-win10_release">win10_release</a></span></code></li><li id="type-win_all.win10_ltsc" class="def type anchored"><a href="#type-win_all.win10_ltsc" class="anchor"></a><code><span>| </span></code><code><span><a href="#type-win10_ltsc">win10_ltsc</a></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>All Windows 10/11 release versions and LTSC names.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-win10_lcu"><a href="#type-win10_lcu" class="anchor"></a><code><span><span class="keyword">type</span> win10_lcu</span><span> = </span><span>[ </span></code><ol><li id="type-win10_lcu.LCU" class="def constructor anchored"><a href="#type-win10_lcu.LCU" class="anchor"></a><code><span>| </span></code><code><span>`LCU</span></code></li><li id="type-win10_lcu.LCU20230314" class="def constructor anchored"><a href="#type-win10_lcu.LCU20230314" class="anchor"></a><code><span>| </span></code><code><span>`LCU20230314</span></code></li><li id="type-win10_lcu.LCU20230214" class="def constructor anchored"><a href="#type-win10_lcu.LCU20230214" class="anchor"></a><code><span>| </span></code><code><span>`LCU20230214</span></code></li><li id="type-win10_lcu.LCU20230110" class="def constructor anchored"><a href="#type-win10_lcu.LCU20230110" class="anchor"></a><code><span>| </span></code><code><span>`LCU20230110</span></code></li><li id="type-win10_lcu.LCU20221213" class="def constructor anchored"><a href="#type-win10_lcu.LCU20221213" class="anchor"></a><code><span>| </span></code><code><span>`LCU20221213</span></code></li><li id="type-win10_lcu.LCU20221108" class="def constructor anchored"><a href="#type-win10_lcu.LCU20221108" class="anchor"></a><code><span>| </span></code><code><span>`LCU20221108</span></code></li><li id="type-win10_lcu.LCU20221011" class="def constructor anchored"><a href="#type-win10_lcu.LCU20221011" class="anchor"></a><code><span>| </span></code><code><span>`LCU20221011</span></code></li><li id="type-win10_lcu.LCU20220913" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220913" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220913</span></code></li><li id="type-win10_lcu.LCU20220809" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220809" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220809</span></code></li><li id="type-win10_lcu.LCU20220712" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220712" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220712</span></code></li><li id="type-win10_lcu.LCU20220614" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220614" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220614</span></code></li><li id="type-win10_lcu.LCU20220510" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220510" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220510</span></code></li><li id="type-win10_lcu.LCU20220412" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220412" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220412</span></code></li><li id="type-win10_lcu.LCU20220308" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220308" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220308</span></code></li><li id="type-win10_lcu.LCU20220208" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220208" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220208</span></code></li><li id="type-win10_lcu.LCU20220111" class="def constructor anchored"><a href="#type-win10_lcu.LCU20220111" class="anchor"></a><code><span>| </span></code><code><span>`LCU20220111</span></code></li><li id="type-win10_lcu.LCU20211214" class="def constructor anchored"><a href="#type-win10_lcu.LCU20211214" class="anchor"></a><code><span>| </span></code><code><span>`LCU20211214</span></code></li><li id="type-win10_lcu.LCU20211109" class="def constructor anchored"><a href="#type-win10_lcu.LCU20211109" class="anchor"></a><code><span>| </span></code><code><span>`LCU20211109</span></code></li><li id="type-win10_lcu.LCU20211012" class="def constructor anchored"><a href="#type-win10_lcu.LCU20211012" class="anchor"></a><code><span>| </span></code><code><span>`LCU20211012</span></code></li><li id="type-win10_lcu.LCU20210914" class="def constructor anchored"><a href="#type-win10_lcu.LCU20210914" class="anchor"></a><code><span>| </span></code><code><span>`LCU20210914</span></code></li><li id="type-win10_lcu.LCU20210810" class="def constructor anchored"><a href="#type-win10_lcu.LCU20210810" class="anchor"></a><code><span>| </span></code><code><span>`LCU20210810</span></code></li><li id="type-win10_lcu.LCU20210713" class="def constructor anchored"><a href="#type-win10_lcu.LCU20210713" class="anchor"></a><code><span>| </span></code><code><span>`LCU20210713</span></code></li><li id="type-win10_lcu.LCU20210608" class="def constructor anchored"><a href="#type-win10_lcu.LCU20210608" class="anchor"></a><code><span>| </span></code><code><span>`LCU20210608</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Windows 10 Latest Cumulative Update. Out-of-band LCUs are not included as they aren't released with Docker images. <code>`LCU</code> always refers to the most recent LCU.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_current_lcu"><a href="#val-win10_current_lcu" class="anchor"></a><code><span><span class="keyword">val</span> win10_current_lcu : <a href="#type-win10_lcu">win10_lcu</a></span></code></div><div class="spec-doc"><p>Current Windows 10 Latest Cumulative Update; value used when <code>`LCU</code> is specified.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-win10_revision"><a href="#type-win10_revision" class="anchor"></a><code><span><span class="keyword">type</span> win10_revision</span><span> = <a href="#type-win10_release">win10_release</a> * <span><a href="#type-win10_lcu">win10_lcu</a> option</span></span></code></div><div class="spec-doc"><p>A Windows 10 version optionally with an LCU.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-distro"><a href="#type-distro" class="anchor"></a><code><span><span class="keyword">type</span> distro</span><span> = </span><span>[ </span></code><ol><li id="type-distro.Alpine" class="def constructor anchored"><a href="#type-distro.Alpine" class="anchor"></a><code><span>| </span></code><code><span>`Alpine <span class="keyword">of</span>
  <span>[ `V3_3
  <span>| `V3_4</span>
  <span>| `V3_5</span>
  <span>| `V3_6</span>
  <span>| `V3_7</span>
  <span>| `V3_8</span>
  <span>| `V3_9</span>
  <span>| `V3_10</span>
  <span>| `V3_11</span>
  <span>| `V3_12</span>
  <span>| `V3_13</span>
  <span>| `V3_14</span>
  <span>| `V3_15</span>
  <span>| `V3_16</span>
  <span>| `V3_17</span> ]</span></span></code></li><li id="type-distro.Archlinux" class="def constructor anchored"><a href="#type-distro.Archlinux" class="anchor"></a><code><span>| </span></code><code><span>`Archlinux <span class="keyword">of</span> <span>[ `Latest ]</span></span></code></li><li id="type-distro.CentOS" class="def constructor anchored"><a href="#type-distro.CentOS" class="anchor"></a><code><span>| </span></code><code><span>`CentOS <span class="keyword">of</span> <span>[ `V6 <span>| `V7</span> <span>| `V8</span> ]</span></span></code></li><li id="type-distro.Debian" class="def constructor anchored"><a href="#type-distro.Debian" class="anchor"></a><code><span>| </span></code><code><span>`Debian <span class="keyword">of</span> <span>[ `V11 <span>| `V10</span> <span>| `V9</span> <span>| `V8</span> <span>| `V7</span> <span>| `Testing</span> <span>| `Unstable</span> ]</span></span></code></li><li id="type-distro.Fedora" class="def constructor anchored"><a href="#type-distro.Fedora" class="anchor"></a><code><span>| </span></code><code><span>`Fedora <span class="keyword">of</span>
  <span>[ `V21
  <span>| `V22</span>
  <span>| `V23</span>
  <span>| `V24</span>
  <span>| `V25</span>
  <span>| `V26</span>
  <span>| `V27</span>
  <span>| `V28</span>
  <span>| `V29</span>
  <span>| `V30</span>
  <span>| `V31</span>
  <span>| `V32</span>
  <span>| `V33</span>
  <span>| `V34</span>
  <span>| `V35</span>
  <span>| `V36</span>
  <span>| `V37</span> ]</span></span></code></li><li id="type-distro.OracleLinux" class="def constructor anchored"><a href="#type-distro.OracleLinux" class="anchor"></a><code><span>| </span></code><code><span>`OracleLinux <span class="keyword">of</span> <span>[ `V7 <span>| `V8</span> <span>| `V9</span> ]</span></span></code></li><li id="type-distro.OpenSUSE" class="def constructor anchored"><a href="#type-distro.OpenSUSE" class="anchor"></a><code><span>| </span></code><code><span>`OpenSUSE <span class="keyword">of</span>
  <span>[ `V42_1 <span>| `V42_2</span> <span>| `V42_3</span> <span>| `V15_0</span> <span>| `V15_1</span> <span>| `V15_2</span> <span>| `V15_3</span> <span>| `V15_4</span> ]</span></span></code></li><li id="type-distro.Ubuntu" class="def constructor anchored"><a href="#type-distro.Ubuntu" class="anchor"></a><code><span>| </span></code><code><span>`Ubuntu <span class="keyword">of</span>
  <span>[ `V12_04
  <span>| `V14_04</span>
  <span>| `V15_04</span>
  <span>| `V15_10</span>
  <span>| `V16_04</span>
  <span>| `V16_10</span>
  <span>| `V17_04</span>
  <span>| `V17_10</span>
  <span>| `V18_04</span>
  <span>| `V18_10</span>
  <span>| `V19_04</span>
  <span>| `V19_10</span>
  <span>| `V20_04</span>
  <span>| `V20_10</span>
  <span>| `V21_04</span>
  <span>| `V21_10</span>
  <span>| `V22_04</span>
  <span>| `V22_10</span> ]</span></span></code></li><li id="type-distro.Cygwin" class="def constructor anchored"><a href="#type-distro.Cygwin" class="anchor"></a><code><span>| </span></code><code><span>`Cygwin <span class="keyword">of</span> <a href="#type-win10_release">win10_release</a></span></code></li><li id="type-distro.Windows" class="def constructor anchored"><a href="#type-distro.Windows" class="anchor"></a><code><span>| </span></code><code><span>`Windows <span class="keyword">of</span> <span>[ `Mingw <span>| `Msvc</span> ]</span> * <a href="#type-win10_release">win10_release</a></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Supported Docker container distributions distributions.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>[ </span></code><ol><li id="type-t.Alpine" class="def constructor anchored"><a href="#type-t.Alpine" class="anchor"></a><code><span>| </span></code><code><span>`Alpine <span class="keyword">of</span>
  <span>[ `V3_3
  <span>| `V3_4</span>
  <span>| `V3_5</span>
  <span>| `V3_6</span>
  <span>| `V3_7</span>
  <span>| `V3_8</span>
  <span>| `V3_9</span>
  <span>| `V3_10</span>
  <span>| `V3_11</span>
  <span>| `V3_12</span>
  <span>| `V3_13</span>
  <span>| `V3_14</span>
  <span>| `V3_15</span>
  <span>| `V3_16</span>
  <span>| `V3_17</span>
  <span>| `Latest</span> ]</span></span></code></li><li id="type-t.Archlinux" class="def constructor anchored"><a href="#type-t.Archlinux" class="anchor"></a><code><span>| </span></code><code><span>`Archlinux <span class="keyword">of</span> <span>[ `Latest ]</span></span></code></li><li id="type-t.CentOS" class="def constructor anchored"><a href="#type-t.CentOS" class="anchor"></a><code><span>| </span></code><code><span>`CentOS <span class="keyword">of</span> <span>[ `V6 <span>| `V7</span> <span>| `V8</span> <span>| `Latest</span> ]</span></span></code></li><li id="type-t.Debian" class="def constructor anchored"><a href="#type-t.Debian" class="anchor"></a><code><span>| </span></code><code><span>`Debian <span class="keyword">of</span> <span>[ `V11 <span>| `V10</span> <span>| `V9</span> <span>| `V8</span> <span>| `V7</span> <span>| `Stable</span> <span>| `Testing</span> <span>| `Unstable</span> ]</span></span></code></li><li id="type-t.Fedora" class="def constructor anchored"><a href="#type-t.Fedora" class="anchor"></a><code><span>| </span></code><code><span>`Fedora <span class="keyword">of</span>
  <span>[ `V21
  <span>| `V22</span>
  <span>| `V23</span>
  <span>| `V24</span>
  <span>| `V25</span>
  <span>| `V26</span>
  <span>| `V27</span>
  <span>| `V28</span>
  <span>| `V29</span>
  <span>| `V30</span>
  <span>| `V31</span>
  <span>| `V32</span>
  <span>| `V33</span>
  <span>| `V34</span>
  <span>| `V35</span>
  <span>| `V36</span>
  <span>| `V37</span>
  <span>| `Latest</span> ]</span></span></code></li><li id="type-t.OracleLinux" class="def constructor anchored"><a href="#type-t.OracleLinux" class="anchor"></a><code><span>| </span></code><code><span>`OracleLinux <span class="keyword">of</span> <span>[ `V7 <span>| `V8</span> <span>| `V9</span> <span>| `Latest</span> ]</span></span></code></li><li id="type-t.OpenSUSE" class="def constructor anchored"><a href="#type-t.OpenSUSE" class="anchor"></a><code><span>| </span></code><code><span>`OpenSUSE <span class="keyword">of</span>
  <span>[ `V42_1
  <span>| `V42_2</span>
  <span>| `V42_3</span>
  <span>| `V15_0</span>
  <span>| `V15_1</span>
  <span>| `V15_2</span>
  <span>| `V15_3</span>
  <span>| `V15_4</span>
  <span>| `Latest</span> ]</span></span></code></li><li id="type-t.Ubuntu" class="def constructor anchored"><a href="#type-t.Ubuntu" class="anchor"></a><code><span>| </span></code><code><span>`Ubuntu <span class="keyword">of</span>
  <span>[ `V12_04
  <span>| `V14_04</span>
  <span>| `V15_04</span>
  <span>| `V15_10</span>
  <span>| `V16_04</span>
  <span>| `V16_10</span>
  <span>| `V17_04</span>
  <span>| `V17_10</span>
  <span>| `V18_04</span>
  <span>| `V18_10</span>
  <span>| `V19_04</span>
  <span>| `V19_10</span>
  <span>| `V20_04</span>
  <span>| `V20_10</span>
  <span>| `V21_04</span>
  <span>| `V21_10</span>
  <span>| `V22_04</span>
  <span>| `V22_10</span>
  <span>| `Latest</span>
  <span>| `LTS</span> ]</span></span></code></li><li id="type-t.Cygwin" class="def constructor anchored"><a href="#type-t.Cygwin" class="anchor"></a><code><span>| </span></code><code><span>`Cygwin <span class="keyword">of</span> <a href="#type-win_all">win_all</a></span></code></li><li id="type-t.Windows" class="def constructor anchored"><a href="#type-t.Windows" class="anchor"></a><code><span>| </span></code><code><span>`Windows <span class="keyword">of</span> <span>[ `Mingw <span>| `Msvc</span> ]</span> * <a href="#type-win_all">win_all</a></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Supported Docker container distributions.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-os_family"><a href="#type-os_family" class="anchor"></a><code><span><span class="keyword">type</span> os_family</span><span> = </span><span>[ </span></code><ol><li id="type-os_family.Cygwin" class="def constructor anchored"><a href="#type-os_family.Cygwin" class="anchor"></a><code><span>| </span></code><code><span>`Cygwin</span></code></li><li id="type-os_family.Linux" class="def constructor anchored"><a href="#type-os_family.Linux" class="anchor"></a><code><span>| </span></code><code><span>`Linux</span></code></li><li id="type-os_family.Windows" class="def constructor anchored"><a href="#type-os_family.Windows" class="anchor"></a><code><span>| </span></code><code><span>`Windows</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>The operating system family a distro belongs to.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-os_family_of_distro"><a href="#val-os_family_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> os_family_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-os_family">os_family</a></span></code></div><div class="spec-doc"><p><code>os_family_of_distro t</code> returns the OS family of the distro.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-os_family_to_string"><a href="#val-os_family_to_string" class="anchor"></a><code><span><span class="keyword">val</span> os_family_to_string : <span><a href="#type-os_family">os_family</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>os_family_to_string os</code> returns a string representing the OS family.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-opam_repository"><a href="#val-opam_repository" class="anchor"></a><code><span><span class="keyword">val</span> opam_repository : <span><a href="#type-os_family">os_family</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>opam_repository os_family</code> returns the git URL to the default Opam repository.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-personality"><a href="#val-personality" class="anchor"></a><code><span><span class="keyword">val</span> personality : <span><a href="#type-os_family">os_family</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>personality os_family arch</code> returns the personality associated to the architecture, if <code>os_family</code> is <code>`Linux</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_same_distro"><a href="#val-is_same_distro" class="anchor"></a><code><span><span class="keyword">val</span> is_same_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_same_distro d1 d2</code> returns whether <code>d1</code> is the same distro as <code>d2</code>, regardless of their respective versions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare a b</code> is a lexical comparison function for <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-resolve_alias"><a href="#val-resolve_alias" class="anchor"></a><code><span><span class="keyword">val</span> resolve_alias : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-distro">distro</a></span></code></div><div class="spec-doc"><p><code>resolve_alias t</code> will resolve <code>t</code> into a concrete version. This removes versions such as <code>Latest</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-distros"><a href="#val-distros" class="anchor"></a><code><span><span class="keyword">val</span> distros : <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Enumeration of the supported Docker container distributions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-latest_distros"><a href="#val-latest_distros" class="anchor"></a><code><span><span class="keyword">val</span> latest_distros : <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Enumeration of the latest stable (ideally LTS) supported distributions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_latest_release"><a href="#val-win10_latest_release" class="anchor"></a><code><span><span class="keyword">val</span> win10_latest_release : <a href="#type-win10_release">win10_release</a></span></code></div><div class="spec-doc"><p>Latest Windows 10 release.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_latest_image"><a href="#val-win10_latest_image" class="anchor"></a><code><span><span class="keyword">val</span> win10_latest_image : <a href="#type-win10_release">win10_release</a></span></code></div><div class="spec-doc"><p>Latest Windows 10 Docker image available. May differ from <a href="#val-win10_latest_release"><code>win10_latest_release</code></a> if the Docker repository hasn't been updated.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-master_distro"><a href="#val-master_distro" class="anchor"></a><code><span><span class="keyword">val</span> master_distro : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The distribution that is the top-level alias for the <code>latest</code> tag in the <code>ocaml/opam2</code> Docker Hub build.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-builtin_ocaml_of_distro"><a href="#val-builtin_ocaml_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> builtin_ocaml_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>builtin_ocaml_of_distro t</code> will return the OCaml version supplied with the distribution packaging, and <code>None</code> if there is no supported version.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-human_readable_string_of_distro"><a href="#val-human_readable_string_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> human_readable_string_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>human_readable_string_of_distro t</code> returns a human readable version of the distribution tag, including version information.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-human_readable_short_string_of_distro"><a href="#val-human_readable_short_string_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> human_readable_short_string_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>human_readable_short_string_of_distro t</code> returns a human readable short version of the distribution tag, excluding version information.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-package_manager"><a href="#type-package_manager" class="anchor"></a><code><span><span class="keyword">type</span> package_manager</span><span> = </span><span>[ </span></code><ol><li id="type-package_manager.Apk" class="def constructor anchored"><a href="#type-package_manager.Apk" class="anchor"></a><code><span>| </span></code><code><span>`Apk</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Alpine Apk</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Apt" class="def constructor anchored"><a href="#type-package_manager.Apt" class="anchor"></a><code><span>| </span></code><code><span>`Apt</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Debian Apt</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Yum" class="def constructor anchored"><a href="#type-package_manager.Yum" class="anchor"></a><code><span>| </span></code><code><span>`Yum</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Fedora Yum</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Zypper" class="def constructor anchored"><a href="#type-package_manager.Zypper" class="anchor"></a><code><span>| </span></code><code><span>`Zypper</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>OpenSUSE Zypper</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Pacman" class="def constructor anchored"><a href="#type-package_manager.Pacman" class="anchor"></a><code><span>| </span></code><code><span>`Pacman</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Archlinux Pacman</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Cygwin" class="def constructor anchored"><a href="#type-package_manager.Cygwin" class="anchor"></a><code><span>| </span></code><code><span>`Cygwin</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Cygwin package manager</p><span class="comment-delim">*)</span></div></li><li id="type-package_manager.Windows" class="def constructor anchored"><a href="#type-package_manager.Windows" class="anchor"></a><code><span>| </span></code><code><span>`Windows</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Native Windows, WinGet, Cygwin</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>The package manager used by a distro.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-package_manager"><a href="#val-package_manager" class="anchor"></a><code><span><span class="keyword">val</span> package_manager : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-package_manager">package_manager</a></span></code></div><div class="spec-doc"><p><code>package_manager t</code> returns the type of package manager used by that distribution. Many derived distributions (such as OracleLinux) share the same package manager from a base distribution (such as CentOS).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bubblewrap_version"><a href="#val-bubblewrap_version" class="anchor"></a><code><span><span class="keyword">val</span> bubblewrap_version : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int * int)</span> option</span></span></code></div><div class="spec-doc"><p><code>bubblewrap_version t</code> returns the version of bubblewrap available on that distribution.</p></div></div><h3 id="docker-hub-addresses"><a href="#docker-hub-addresses" class="anchor"></a>Docker Hub addresses</h3><div class="odoc-spec"><div class="spec value anchored" id="val-tag_of_distro"><a href="#val-tag_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> tag_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>tag_of_distro t</code> convert a distribution <code>t</code> to a Docker Hub tag.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-distro_of_tag"><a href="#val-distro_of_tag" class="anchor"></a><code><span><span class="keyword">val</span> distro_of_tag : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p><code>distro_of_tag s</code> parses <code>s</code> into a <a href="#type-t"><code>t</code></a> distribution, and <code>None</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-latest_tag_of_distro"><a href="#val-latest_tag_of_distro" class="anchor"></a><code><span><span class="keyword">val</span> latest_tag_of_distro : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>latest_tag_of_distro distro</code> will generate a Docker Hub tag that is a convenient short form for the latest stable release of a particular distribution. This tag will be regularly rewritten to point to any new releases of the distribution.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-win10_docker_base_image"><a href="#type-win10_docker_base_image" class="anchor"></a><code><span><span class="keyword">type</span> win10_docker_base_image</span><span> = </span><span>[ </span></code><ol><li id="type-win10_docker_base_image.NanoServer" class="def constructor anchored"><a href="#type-win10_docker_base_image.NanoServer" class="anchor"></a><code><span>| </span></code><code><span>`NanoServer</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Windows Nano Server</p><span class="comment-delim">*)</span></div></li><li id="type-win10_docker_base_image.ServerCore" class="def constructor anchored"><a href="#type-win10_docker_base_image.ServerCore" class="anchor"></a><code><span>| </span></code><code><span>`ServerCore</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Windows Server Core</p><span class="comment-delim">*)</span></div></li><li id="type-win10_docker_base_image.Windows" class="def constructor anchored"><a href="#type-win10_docker_base_image.Windows" class="anchor"></a><code><span>| </span></code><code><span>`Windows</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Windows Server &quot;with Desktop Experience&quot;</p><span class="comment-delim">*)</span></div></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Windows containers base images.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/container-base-images" class="value">https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/container-base-images</a> </li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_base_tag"><a href="#val-win10_base_tag" class="anchor"></a><code><span><span class="keyword">val</span> win10_base_tag : 
  <span>?win10_revision:<a href="#type-win10_lcu">win10_lcu</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-win10_docker_base_image">win10_docker_base_image</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-win_all">win_all</a> <span class="arrow">&#45;&gt;</span></span>
  string * string</span></code></div><div class="spec-doc"><p><code>win10_base_tag base_image release</code> will return a tuple of Windows container base image and tag for which the base image of a Windows base image can be found (e.g. <code>mcr.microsoft.com/windows/servercore</code>,<code>ltsc2022</code> which maps to <code>mcr.microsoft.com/windows/servercore:ltsc2022</code> on the Microsoft Container Registry).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_distro_tag"><a href="#val-base_distro_tag" class="anchor"></a><code><span><span class="keyword">val</span> base_distro_tag : 
  <span>?win10_revision:<a href="#type-win10_lcu">win10_lcu</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?arch:<span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  string * string</span></code></div><div class="spec-doc"><p><code>base_distro_tag ?arch t</code> will return a tuple of a Docker Hub user/repository and tag for which the base image of a distribution can be found (e.g. <code>opensuse/leap</code>,<code>15.0</code> which maps to <code>opensuse/leap:15.0</code> on the Docker Hub). This base image is in turn can be used to generate opam and other OCaml tool Dockerfiles. <code>arch</code> defaults to <code>x86_64</code> and can vary the base user/repository since some architecture are built elsewhere.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_release_to_string"><a href="#val-win10_release_to_string" class="anchor"></a><code><span><span class="keyword">val</span> win10_release_to_string : <span><a href="#type-win10_release">win10_release</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>win10_release_to_string update</code> converts a Windows 10 version name to string.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_release_of_string"><a href="#val-win10_release_of_string" class="anchor"></a><code><span><span class="keyword">val</span> win10_release_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-win_all">win_all</a> option</span></span></code></div><div class="spec-doc"><p><code>win10_release_of_string</code> converts a Windows 10 version name as string to its internal representation. Ignores any KB number.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_revision_to_string"><a href="#val-win10_revision_to_string" class="anchor"></a><code><span><span class="keyword">val</span> win10_revision_to_string : <span><a href="#type-win10_revision">win10_revision</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_revision_of_string"><a href="#val-win10_revision_of_string" class="anchor"></a><code><span><span class="keyword">val</span> win10_revision_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-win10_revision">win10_revision</a> option</span></span></code></div></div><h3 id="cpu-architectures"><a href="#cpu-architectures" class="anchor"></a>CPU architectures</h3><div class="odoc-spec"><div class="spec value anchored" id="val-distro_arches"><a href="#val-distro_arches" class="anchor"></a><code><span><span class="keyword">val</span> distro_arches : <span><span class="xref-unresolved">Ocaml_version</span>.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Ocaml_version</span>.arch list</span></span></code></div><div class="spec-doc"><p><code>distro_arches ov t</code> returns the list of architectures that distribution <code>t</code> is supported on for OCaml compiler version <code>ov</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-distro_supported_on"><a href="#val-distro_supported_on" class="anchor"></a><code><span><span class="keyword">val</span> distro_supported_on : <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Ocaml_version</span>.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>distro_supported_on arch ov distro</code> returns <code>true</code> if the combination of CPU <code>arch</code>, compiler version <code>ov</code> is available on the distribution <code>distro</code>.</p></div></div><h3 id="opam-build-infrastructure-support"><a href="#opam-build-infrastructure-support" class="anchor"></a>Opam build infrastructure support</h3><div class="odoc-spec"><div class="spec type anchored" id="type-win10_release_status"><a href="#type-win10_release_status" class="anchor"></a><code><span><span class="keyword">type</span> win10_release_status</span><span> = </span><span>[ </span></code><ol><li id="type-win10_release_status.Deprecated" class="def constructor anchored"><a href="#type-win10_release_status.Deprecated" class="anchor"></a><code><span>| </span></code><code><span>`Deprecated</span></code></li><li id="type-win10_release_status.Active" class="def constructor anchored"><a href="#type-win10_release_status.Active" class="anchor"></a><code><span>| </span></code><code><span>`Active</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Windows 10 release status.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-win10_release_status"><a href="#val-win10_release_status" class="anchor"></a><code><span><span class="keyword">val</span> win10_release_status : <span><a href="#type-win_all">win_all</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-win10_release_status">win10_release_status</a></span></code></div><div class="spec-doc"><p><code>win10_release_status v channel</code> returns the Microsoft support status of the specified Windows 10 release.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://en.wikipedia.org/wiki/Windows_10_version_history#Channels" class="value">https://en.wikipedia.org/wiki/Windows_10_version_history#Channels</a> </li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-active_distros"><a href="#val-active_distros" class="anchor"></a><code><span><span class="keyword">val</span> active_distros : <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p><code>active_distros arch</code> returns the list of currently supported distributions in the opam build infrastructure. Distributions that are end-of-life upstream will rotate out of this list regularly.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-active_tier1_distros"><a href="#val-active_tier1_distros" class="anchor"></a><code><span><span class="keyword">val</span> active_tier1_distros : <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Tier 1 distributions are those supported for the full matrix of compiler versions in the opam build infrastructure. The <a href="https://github.com/ocurrent/docker-base-images">Docker base images</a> will compile a base image for every OCaml version, so this list should be added to sparingly.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-active_tier2_distros"><a href="#val-active_tier2_distros" class="anchor"></a><code><span><span class="keyword">val</span> active_tier2_distros : <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Tier 2 distributions are those supported for a limited set of compiler versions in the opam build infrastructure. The distros in this list are also tested for packages in the opam repository.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-active_tier3_distros"><a href="#val-active_tier3_distros" class="anchor"></a><code><span><span class="keyword">val</span> active_tier3_distros : <span><span class="xref-unresolved">Ocaml_version</span>.arch <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Tier 3 distributions are those supported for a limited set of compiler versions in the opam build infrastructure. While these distros will have base images compiled for them, they are not widely tested. Distros maybe here as they are on the way to being deprecated, or new and still experimental.</p></div></div></div></body></html>